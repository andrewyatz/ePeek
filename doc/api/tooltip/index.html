<!DOCTYPE html>

<meta charset="utf-8">
<title>e!Peek API</title>

<style>
  @import url(../../../index.css);
  <!-- insert in-place styles here -->
</style>

<div id="body">
  <header>
    <script src="../../../lib/d3.min.js"></script>
    <a href="../../../index.html">Overview</a>
    <a style="margin-left:1em;" href="../../../themes/index.html">Themes</a>
    <a style="margin-left:1em;" href="./">Examples</a>
    <b><a style="margin-left:1em;" href="../index.html">Documentation</a></b>
    <a style="margin-left:1em;" href="https://github.com/emepyc">Source</a>
  </header>

  <h1>API Reference</h1>
  <a href="../../index.html"><h2>Tooltips</h2></a>

  <h2><a name="querying" href="#querying">#</a>The Tooltip object</h2>
  <p>Tooltips are very common for showing different contextual information. To work with the <i>svg</i> elements that are created by the epeek plug-ins, epeek offers its own tooltips. These are created by calling the epeek.<a href="#tooltip">tooltip</a> method.</p>

  <p><aside>Check also how tooltips are used in the <a href="../genome/index.html#tooltip">epeek.genome</a> plugin</aside></p>
  <p>Tipycally, a tooltip is displayed as a consequence of a <i>mouse event</i> (normally, by clicking an element). This is mostly required in order to get the correct <i>x</i> and <i>y</i> coordinates of the element and place the tooltip near the selected element. The following code illustrates how epeek tooltips can be used:</p>

  <pre><code class="javascript">
(function() {
   // We get a tooltip generator from epeek.tooltip();
   var tooltip = epeek.tooltip();

   // This is the function that is called on every click on the svg element
   // Here we are hard-coding the information that will go into the tooltip
   // But it can also be passed as a parameter.
   var init_tooltip = function() {
      var info = {
                  "header" : { "label" : "My",
                               "value" : "Tooltip"
                             },
                  "rows"   : [ { "label" : "Row1", "value" : "Value1" },
                               { "label" : "Row2", "value" : "Value2" },
                               { "label" : "Row3", "value" : "Value3" }
                             ]
                 };
       tooltip.call(this, info);
   };

   // An svg element is created
   var svg = d3.select("#body").append("svg");
   
   // An svg circle is created inside the svg element
   // and an event-listener is attached to our tooltip-ing function above
   var circle = svg.append("circle")
                   .attr("cx", 50)
                   .attr("cy", 50)
                   .attr("r", 10)
                   .on("click", init_tooltip);
})();
  </code></pre>

  <p>Tooltips are created as <i>html</i> <i>tables</i> having a <i>header</i> and a variable number of 2-column <i>rows</i> (See the code above for an example). The generated tooltip is inserted as a child of the first <i>div</i> ancestor of the <i>clicked</i> element. This means that at least one <i>div</i> element has to be defined. Attaching the tooltip to a <i>div</i> element has the advantage that it is not restricted to the <i>svg</i> "space" and can be dragged to any place of the page</p>
  <p>Note also that inside of our <i>init_tooltip</i> function defined in the code above, the tooltip is called with:</p>
  <pre><code class="javascript">
 tooltip.call(this, info);
  </code></pre>

  <p><aside>See more information about the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call">call</a> javascript method</aside></p>
  <p>This is so to preserve the context in which the tooltip method is called. This is needed to make sure that the coordinates of the <i>clicked</i> element are taken into account to place the tooltip in the right position</p>

  <p><a name="tooltip" href="#tooltip">#</a> epeek.<b>tooltip</b>()</p>
  <p>This method returns the tooltip closure. This closure can be used to create new tooltip objects when a given element is <i>clicked</i>. When called, the closure expects an object with the following fields as its argument:</p>

  <p>
    <ul>
      <li><b>header</b> : {entry_object} -- An object (see below)</li>
      <li><b>rows</b>   : [{entry_object}, {entry_object},...] -- An array of objects</li>
    </ul>
  </p>

  <p>Where an {entry_object} is an object with the following fields:</p>

  <p>
    <ul>
      <li><b>label</b> : The name of the new field</li>
      <li><b>value</b> : Its value</li>
    </ul>
  </p>

  <p>See the code above for an example</p>

  <p><a name="background_color" href="#background_color">#</a> tooltip.<b>background_color</b>([string])</p>
  <p>This method gets/sets the background color of the tooltip. This color should be expressed as a valid hexadecimal number (including the "#" prefix) like "#FFFFFF":

  <pre><code class="javascript">
var tooltip = epeek.tooltip().background_color("#CCDD00");
  </code></pre>

  <p><a name="foreground_color" href="#foreground_color">#</a> tooltip.<b>foreground_color</b>([string])</p>
  <p>This method gets/sets the foreground color of the tooltip. This color should be expressed as a valid hexadecimal number (including the "#" prefix) like "#FFFFFF". This color can be set to the same foreground color as the epeek_genome object:</p>

  <pre><code class="javascript">
var tooltip = epeek.tooltip()
                   .background_color("#CCDD00")
                   .foreground_color("#0022FF");
  </code></pre>


  <footer>
    <aside>Released under <a href="http://www.opensource.org/licenses/apache2.0.php">Apache 2.0</a>.</aside>
    Copyright 2014 <a href="http://www.ebi.ac.uk/~mp" rel="author">Miguel Pignatelli</a>
  </footer>

</div>

<script src="../../../highlight.v0.min.js"></script>
