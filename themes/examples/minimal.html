<!DOCTYPE html>
<meta charset="utf-8">
<title>e!Peek</title>

<style>
  @import url(../../index.css)
</style>

<div id="body">

  <!-- D3 -->
  <script src="http://d3js.org/d3.v3.min.js"></script>

  <!-- ePeek -->
  <link rel="stylesheet" href="../../lib/ePeek.css" type="text/css" />
  <link rel="stylesheet" href="../../clients/css/default2.css" type="text/css" />

  <script src="../../lib/ePeek.js"></script>
  <script src="../../clients/lib/minimal.js"></script>

  <header>
    <a style="margin-left:1em;" href="../../index.html">Overview</a>
    <a style="margin-left:1em;" href="../../themes.html">Themes</a>
    <a style="margin-left:1em;" href="../../index.html">Examples</a>
    <a style="margin-left:1em;" href="../../doc/index/ePeek.html">Documentation</a>
    <a style="margin-left:1em;" href="https://github.com/emepyc">Source</a>
  </header>

  <h1>The Minimal Theme</h1>
  <div id="genomeBrowser"></div>
  <script>
    (function() {
        var gB = epeek().species("human").gene("brca2").width(950).height(200).background_color("#EEEEEE").foreground_color("green");
        var gBTheme = epeek_theme();
        gBTheme(gB, document.getElementById("genomeBrowser"));
    })();
 
  </script>

  <p><aside><i>Panning</i> and <i>zooming</i> are still possible in the minimal theme</aside></p>
  <p>The minimal theme just shows the e!Peek plug-in without any decoration or extra functionality. It doesn't response to gene selection, retrieve orthology information or any other kind of interaction apart from those available in the core plug-in (like panning or zooming).</p>
  <p>Because of its simplicity it is a good starting point for any other more complex theme as it shows the general pattern used in e!Peek to build the themes</p>
  <p>The code of this theme is just:</p>

  <pre><code>
var epeek_theme = function() {
    var theme = function(gB, div) {
        gB(div);
        gB.startOnOrigin();
    };
    return theme;
};
  </code></pre>
<p>The code above defines the function <i>epeek_theme</i>. By convention, this function should always be defined as a top-level function in every theme (and normally it is the only thing defined at the top level). Inside this function, we will always define a closure that accepts at least two arguments:</p>
  <ul>
    <li>An instance of the <i>e!Peek</i> core object</li>
    <li>A container DOM element (usually a div element)</li>
  </ul>
<p>The closure is the only thing returned by the theme. Since a closure is a piece of code treated as a value, it is important to remember that nothing that is defined inside of the closure will be executed until the returned closure is called. The minimal code needed inside of the closure is shown in the code above: The closure is responsible of calling the core object in the appropriate DOM element. In this case, we put the e!Peek core plugin in the container element passed as an argument, but other more sophisticated themes may define other DOM elements and encapsulate the e!Peek core object to any of them. Finally, the closure has to call the <i>startOnOrigin</i> method of the <i>e!Peek</i> core object to start the genome browser. With this code, when the <i>epeek_theme</i> function is called, the closure is returned and ready to use.
</p>
<p>So, this is how the client page should set the theme up:</p>
<pre><code>
var gB = epeek().width(920); // other methods can be included here
var gBTheme = epeek_theme(); // other methods can be included here
gBTheme(gB, document.getElementById('DOM_element_id');
</code></pre>
<p>First, the <i>e!Peek</i> core plug-in is set up (gB). Then, the theme is set up and the theme closure (gBTheme) is obtained. Finally, the theme closure is called with the core plug-in as its first argument and a valid DOM container element as the second.

  <footer>
    <aside>Released under <a href="http://www.opensource.org/licenses/apache2.0.php">Apache 2.0</a>.</aside>
    Copyright 2013 <a href="http://www.ebi.ac.uk/~mp" rel="author">Miguel Pignatelli</a>
  </footer>

</div>
<script src="../../highlight.v0.min.js"></script>
